[tox]
envlist = py26,py27,py33,flake8,cover

[testenv]
deps = -r{toxinidir}/test-requirements.txt
commands = nosetests -v --with-xunit

[testenv:cover]
commands = nosetests -q --with-coverage --cover-package=py2pack --cover-html --cover-html-dir={toxinidir}/coverage

[testenv:docs]
basepython = python
changedir = doc
deps = sphinx
commands = sphinx-build -W -b html -d {envtmpdir}/doctrees . {envtmpdir}/html
#           sphinx-build -b doctest -d {envtmpdir}/doctrees . {envtmpdir}/doctest

[testenv:flake8]
commands = flake8

[flake8]
ignore = E501
show-source = True
exclude = .venv,.tox,build,dist,doc,*egg
